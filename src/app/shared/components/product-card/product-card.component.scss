/* base */
:host { display:block; height:100%; }

.product-card{
  display:flex; flex-direction:column;
  width:100%; max-width:100%; height:100%;
  background: transparent;
  border-radius:18px;
  overflow: visible;
  transition: transform .25s cubic-bezier(.4,0,.2,1), filter .25s;
  cursor:pointer;
}
.product-card:hover { transform: translateY(-2px); filter: drop-shadow(0 12px 28px rgba(2,8,23,.12)); }

/* image : ratio large pour valoriser l’œuvre */
.product-image{
  position:relative;
  aspect-ratio: 4 / 3;
  background:#fff;
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 10px 24px rgba(15,23,42,.10);
}
@media (min-width:1024px){
  .product-image{ aspect-ratio: 16 / 10; } /* plus “ciné” sur desktop */
}
.product-image img{
  width:100%; height:100%; object-fit:cover; display:block;
  transition: transform .5s ease;
}
.product-card:hover .product-image img{ transform: scale(1.05); }

/* bouton favoris */
.fav-btn{
  position:absolute; top:.75rem; right:.75rem; z-index:3;
  width:40px; height:40px; border:0; border-radius:9999px;
  background: rgba(255,255,255,.98);
  display:inline-flex; align-items:center; justify-content:center;
  box-shadow:0 6px 16px rgba(0,0,0,.18);
  transition: transform .15s, background .2s, box-shadow .2s;
}
.fav-btn:hover{ transform: scale(1.08); background:#fff; box-shadow:0 12px 28px rgba(0,0,0,.25); }
.fav-btn i{ font-size:1.05rem; color:#334155; }
.fav-btn i.text-red-500{ color:#ef4444 !important; }

/* badge “nouveau” à gauche */
.product-badge{
  position:absolute; top:.85rem; left:.85rem;
  padding:.25rem .65rem; border-radius:20px;
  font-size:.75rem; font-weight:800; color:#fff; z-index:2;
}
.product-badge.new{ background: linear-gradient(135deg,#10b981,#059669); }

/* % de réduction : EN HAUT À DROITE uniquement (sous le cœur) */
.discount-badge{
  position:absolute; left:.85rem; top:.85rem;
  padding:.25rem .6rem; border-radius:9999px;
  font-size:.78rem; font-weight:900; color:#fff; z-index:3;
  background: linear-gradient(135deg,#ef4444,#dc2626);
  box-shadow: 0 6px 16px rgba(0,0,0,.18);
}

.discount-badge + .product-badge.new{
  top: calc(.85rem + 1.9rem); /* ~ 1 badge + petit espacement */
}
/* panneau info flottant — hauteur UNIFORME pour toutes les cartes */
:root { --info-h: 85px; }
@media (max-width: 1024px){ :root { --info-h: 82px; } }
@media (max-width: 640px){ :root { --info-h: 78px; } }  

.product-info{
  position:relative;
  margin: 0 10px;
  padding: .55rem .85rem .6rem;
  gap: .2rem;
  background: rgba(255,255,255,.2);
  backdrop-filter: saturate(1.2) blur(6px);
  -webkit-backdrop-filter: saturate(1.2) blur(6px);
  border: 1px solid rgba(255,255,255,.2);

  border-radius:14px;
  box-shadow:0 12px 24px rgba(15,23,42,.10);

  transform: translateY(-16px);
  will-change: transform;
  transition: transform .25s, box-shadow .25s, border-color .25s, background .25s;
  overflow:hidden;

  /* => uniformisation des hauteurs */
  height: var(--info-h);
  display:flex; flex-direction:column; justify-content:flex-start;
}
.product-info::before{
  content:''; position:absolute; inset:0; background:#fff; opacity:.2; pointer-events:none;
  transition: opacity .25s ease;
}
.product-card:hover .product-info{
  transform: translateY(-20px);
  background: rgba(255,255,255,.95);
  border-color: rgba(255,255,255,.70);
  box-shadow:0 18px 30px rgba(15,23,42,.14);
}
.product-card:hover .product-info::before{ opacity:.25; }

/* ligne du haut */
.info-top{
  display:flex; align-items:baseline; justify-content:space-between; gap:.75rem;
}
.product-artist{
  color:#475569; font-size:.92rem; font-weight:600;
  margin:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.price-right{ display:inline-flex; align-items:baseline; gap:.3rem; margin-left:auto; text-align:right; }

/* prix : gradient pour le prix courant, prix barré si promo */
.price-current{
  font-size:1.15rem; font-weight:900; letter-spacing:.2px;
  background: linear-gradient(135deg,#667eea 0%, #764ba2 100%);
  -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
}
.price-original{ font-size:.95rem; color:#94a3b8; text-decoration:line-through; }

/* titre sur 2 lignes max pour préserver la hauteur */
.product-title{
  margin:.1rem 0 0;
  font-size:1.05rem; font-weight:800; color:#0f172a; line-height:1.28;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
}

/* focus */
.product-card:focus-visible{ outline:none; filter: drop-shadow(0 0 0 rgba(0,0,0,0)); }
.product-card:focus-visible .product-image{
  box-shadow:0 0 0 3px rgba(59,130,246,.35), 0 12px 26px rgba(15,23,42,.12);
}
.product-card:focus-visible .product-info{
  box-shadow:0 0 0 3px rgba(59,130,246,.18), 0 18px 30px rgba(15,23,42,.14);
}

/* skeleton */
.product-card.skeleton{
  height:360px; border-radius:18px;
  background:linear-gradient(90deg,#eee 25%,#f5f5f5 37%,#eee 63%);
  background-size:400% 100%; animation:shimmer 1.2s infinite linear;
}
@keyframes shimmer{ 0%{background-position:100% 0} 100%{background-position:0 0} }

/* carrousel Home : largeur mini pour le scroll horizontal */
.carousel-track .product-card{ min-width:360px; max-width:420px; }
